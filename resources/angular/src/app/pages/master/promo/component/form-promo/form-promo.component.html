
<div class="form-group row mt-3">
    <div class="col-md-4"></div>
    <div class="col-md-4">
        <app-upload-image 
        [defaultImage]="formModel.fotoUrl" 
        [ratioHigh]="4" 
        [ratioWidth]="3" 
        (onSubmit)="getCroppedImage($event)">
    </app-upload-image>
    </div>
    <div class="col-md-4"></div>
 </div>
<form>
    <div class="row">
        <div class="col-md-6">
            <div class="form-group row">
                <label class="col-md-4 required">Nama</label>
                <div class="col-md-8">
                    <input [(ngModel)]="formModel.nama" type="text" name="nama" class="form-control"
                        placeholder="Nama Promo">
                </div>
            </div>
            <div class="form-group row">
                <label class="col-md-4 required">Type</label>
                <div class="col-md-8">
                    <div class="btn-group" role="group" ngbRadioGroup name="type" [(ngModel)]="formModel.type">
                        <label ngbButtonLabel class="btn-info">
                            <input ngbButton type="radio" class="btn-check" value="diskon" (click)="formModel.diskon=0"> Diskon
                        </label>
                        <label ngbButtonLabel class="btn-info">
                            <input ngbButton type="radio" class="btn-check" value="voucher" (click)="formModel.nominal=0"> Voucher
                        </label>
                    </div>
                </div>
            </div>
            <div class="form-group row" *ngIf="formModel.type == 'diskon' || !formModel.type" >
                <label class="col-md-4 required">Diskon</label>
                <div class="col-md-8">
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text">%</span>
                        </div>
                        <input [(ngModel)]="formModel.diskon" type="text" name="diskon" class="form-control"
                            placeholder="Diskon"> 
                    </div>
                </div>
            </div>
            <div class="form-group row" *ngIf="formModel.type == 'voucher'" >
                <label class="col-md-4 required">Nominal</label>
                <div class="col-md-8">
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text">Rp</span>
                        </div>
                        <input [(ngModel)]="formModel.nominal" type="text" name="nominal" class="form-control"
                            placeholder="Nominal">
                    </div>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-md-4 required">Kadaluarsa</label>
                <div class="col-md-8">
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text">Hari</span>
                        </div>
                        <input [(ngModel)]="formModel.kadaluarsa" type="text" name="kadaluarsa" class="form-control"
                            placeholder="Berapa Lama">
                    </div>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-md-4 required">Deskripsi Syarat dan Ketentuan</label>
                <div class="col-md-8">
                    <textarea class="form-control" [(ngModel)]="formModel.syarat_ketentuan" name="syarat_ketentuan"
                        placeholder="Tuliskan detail mengenai promo ini" rows="3"></textarea>
                </div>
            </div>
        </div>
        
    </div>
    <div class="row">
        <div class="col-md-12">
            <div class="form-group row">
                <div class="col-md-12 text-right">
                    <button type="button" class="btn btn-outline-secondary mr-2" (click)="back()">Daftar Promo</button>
                    <button type="button" class="btn btn-primary" (click)="save()">Simpan</button>
                </div>
            </div>
        </div>
    </div>
</form>